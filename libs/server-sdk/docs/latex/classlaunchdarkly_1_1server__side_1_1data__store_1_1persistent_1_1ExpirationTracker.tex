\hypertarget{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker}{}\doxysection{launchdarkly\+::server\+\_\+side\+::data\+\_\+store\+::persistent\+::Expiration\+Tracker Class Reference}
\label{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker}\index{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbd}{Track\+State}} \{ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbdaa7f09073342255cf27ab166f375b9915}{k\+Fresh}}
, \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbda322cf4f0f13c381710407d820cf569f1}{k\+Stale}}
, \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbdaa5b0f2b48fc50446ec6b24bd7be8bef9}{k\+Not\+Tracked}}
 \}
\item 
\mbox{\Hypertarget{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_aaa2ff3fb85fa8d249a35d8aef38ff9d8}\label{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_aaa2ff3fb85fa8d249a35d8aef38ff9d8}} 
using {\bfseries Time\+Point} = std\+::chrono\+::time\+\_\+point$<$ std\+::chrono\+::steady\+\_\+clock $>$
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_acabda302e99cd2045ebf5a74c2ca1353}{Add}} (std\+::string const \&key, Time\+Point expiration)
\item 
void \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_ad18057d03999f017b3dfc82790e1bd85}{Remove}} (std\+::string const \&key)
\item 
\mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbd}{Track\+State}} \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a4b222b7d06d2f2e66ffd5b1f7415d401}{State}} (std\+::string const \&key, Time\+Point current\+\_\+time) const
\item 
void \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a5837109a7d5d82a538b3cf36c9f7d347}{Add}} (data\+\_\+store\+::\+Data\+Kind kind, std\+::string const \&key, Time\+Point expiration)
\item 
void \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a1985bc12d5f10c5baf774341a436752f}{Remove}} (data\+\_\+store\+::\+Data\+Kind kind, std\+::string const \&key)
\item 
\mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbd}{Track\+State}} \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_af60aec48af99a4a732fdc076870b52c9}{State}} (data\+\_\+store\+::\+Data\+Kind kind, std\+::string const \&key, Time\+Point current\+\_\+time) const
\item 
void \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a80c0100009fc346a460989221e1afac3}{Clear}} ()
\item 
std\+::vector$<$ std\+::pair$<$ std\+::optional$<$ Data\+Kind $>$, std\+::string $>$ $>$ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cebc0a9288eff5b4cc2fe8244201def}{Prune}} (Time\+Point current\+\_\+time)
\end{DoxyCompactItemize}


\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbd}\label{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbd}} 
\index{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}!TrackState@{TrackState}}
\index{TrackState@{TrackState}!launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}}
\doxysubsubsection{\texorpdfstring{TrackState}{TrackState}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbd}{launchdarkly\+::server\+\_\+side\+::data\+\_\+store\+::persistent\+::\+Expiration\+Tracker\+::\+Track\+State}}\hspace{0.3cm}{\ttfamily [strong]}}

The state of the key in the tracker. \begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kFresh@{kFresh}!launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}}\index{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}!kFresh@{kFresh}}}\mbox{\Hypertarget{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbdaa7f09073342255cf27ab166f375b9915}\label{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbdaa7f09073342255cf27ab166f375b9915}} 
k\+Fresh&The key is tracked and the key expiration is in the future. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kStale@{kStale}!launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}}\index{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}!kStale@{kStale}}}\mbox{\Hypertarget{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbda322cf4f0f13c381710407d820cf569f1}\label{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbda322cf4f0f13c381710407d820cf569f1}} 
k\+Stale&The key is tracked and the expiration is either now or in the past. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kNotTracked@{kNotTracked}!launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}}\index{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}!kNotTracked@{kNotTracked}}}\mbox{\Hypertarget{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbdaa5b0f2b48fc50446ec6b24bd7be8bef9}\label{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbdaa5b0f2b48fc50446ec6b24bd7be8bef9}} 
k\+Not\+Tracked&The key is not being tracked. \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a5837109a7d5d82a538b3cf36c9f7d347}\label{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a5837109a7d5d82a538b3cf36c9f7d347}} 
\index{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}!Add@{Add}}
\index{Add@{Add}!launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}}
\doxysubsubsection{\texorpdfstring{Add()}{Add()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void launchdarkly\+::server\+\_\+side\+::data\+\_\+store\+::persistent\+::\+Expiration\+Tracker\+::\+Add (\begin{DoxyParamCaption}\item[{data\+\_\+store\+::\+Data\+Kind}]{kind,  }\item[{std\+::string const \&}]{key,  }\item[{Expiration\+Tracker\+::\+Time\+Point}]{expiration }\end{DoxyParamCaption})}

Add a scoped key to the tracker. Will use the specified TTL for the kind.


\begin{DoxyParams}{Parameters}
{\em kind} & The scope (kind) of the key. \\
\hline
{\em key} & The key to track. \\
\hline
{\em expiration} & The time that the key expires. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_acabda302e99cd2045ebf5a74c2ca1353}\label{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_acabda302e99cd2045ebf5a74c2ca1353}} 
\index{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}!Add@{Add}}
\index{Add@{Add}!launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}}
\doxysubsubsection{\texorpdfstring{Add()}{Add()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void launchdarkly\+::server\+\_\+side\+::data\+\_\+store\+::persistent\+::\+Expiration\+Tracker\+::\+Add (\begin{DoxyParamCaption}\item[{std\+::string const \&}]{key,  }\item[{Expiration\+Tracker\+::\+Time\+Point}]{expiration }\end{DoxyParamCaption})}

Add an unscoped key to the tracker.


\begin{DoxyParams}{Parameters}
{\em key} & The key to track. \\
\hline
{\em expiration} & The time that the key expires. used. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a80c0100009fc346a460989221e1afac3}\label{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a80c0100009fc346a460989221e1afac3}} 
\index{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}!Clear@{Clear}}
\index{Clear@{Clear}!launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}}
\doxysubsubsection{\texorpdfstring{Clear()}{Clear()}}
{\footnotesize\ttfamily void launchdarkly\+::server\+\_\+side\+::data\+\_\+store\+::persistent\+::\+Expiration\+Tracker\+::\+Clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Stop tracking all keys. \mbox{\Hypertarget{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cebc0a9288eff5b4cc2fe8244201def}\label{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cebc0a9288eff5b4cc2fe8244201def}} 
\index{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}!Prune@{Prune}}
\index{Prune@{Prune}!launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}}
\doxysubsubsection{\texorpdfstring{Prune()}{Prune()}}
{\footnotesize\ttfamily std\+::vector$<$ std\+::pair$<$ std\+::optional$<$ Data\+Kind $>$, std\+::string $>$ $>$ launchdarkly\+::server\+\_\+side\+::data\+\_\+store\+::persistent\+::\+Expiration\+Tracker\+::\+Prune (\begin{DoxyParamCaption}\item[{Expiration\+Tracker\+::\+Time\+Point}]{current\+\_\+time }\end{DoxyParamCaption})}

Prune expired keys from the tracker. 
\begin{DoxyParams}{Parameters}
{\em current\+\_\+time} & The current time. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A list of all the kinds and associated keys that expired. Unscoped keys will have std\+::nullopt as the kind. 
\end{DoxyReturn}
\mbox{\Hypertarget{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a1985bc12d5f10c5baf774341a436752f}\label{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a1985bc12d5f10c5baf774341a436752f}} 
\index{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}!Remove@{Remove}}
\index{Remove@{Remove}!launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}}
\doxysubsubsection{\texorpdfstring{Remove()}{Remove()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void launchdarkly\+::server\+\_\+side\+::data\+\_\+store\+::persistent\+::\+Expiration\+Tracker\+::\+Remove (\begin{DoxyParamCaption}\item[{data\+\_\+store\+::\+Data\+Kind}]{kind,  }\item[{std\+::string const \&}]{key }\end{DoxyParamCaption})}

Remove a scoped key from the tracker.


\begin{DoxyParams}{Parameters}
{\em kind} & The scope (kind) of the key. \\
\hline
{\em key} & The key to stop tracking. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_ad18057d03999f017b3dfc82790e1bd85}\label{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_ad18057d03999f017b3dfc82790e1bd85}} 
\index{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}!Remove@{Remove}}
\index{Remove@{Remove}!launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}}
\doxysubsubsection{\texorpdfstring{Remove()}{Remove()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void launchdarkly\+::server\+\_\+side\+::data\+\_\+store\+::persistent\+::\+Expiration\+Tracker\+::\+Remove (\begin{DoxyParamCaption}\item[{std\+::string const \&}]{key }\end{DoxyParamCaption})}

Remove an unscoped key from the tracker.


\begin{DoxyParams}{Parameters}
{\em key} & The key to stop tracking. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_af60aec48af99a4a732fdc076870b52c9}\label{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_af60aec48af99a4a732fdc076870b52c9}} 
\index{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}!State@{State}}
\index{State@{State}!launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}}
\doxysubsubsection{\texorpdfstring{State()}{State()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbd}{Expiration\+Tracker\+::\+Track\+State}} launchdarkly\+::server\+\_\+side\+::data\+\_\+store\+::persistent\+::\+Expiration\+Tracker\+::\+State (\begin{DoxyParamCaption}\item[{data\+\_\+store\+::\+Data\+Kind}]{kind,  }\item[{std\+::string const \&}]{key,  }\item[{Expiration\+Tracker\+::\+Time\+Point}]{current\+\_\+time }\end{DoxyParamCaption}) const}

Check the state of a scoped key.


\begin{DoxyParams}{Parameters}
{\em kind} & The scope (kind) of the key. \\
\hline
{\em key} & The key to check. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The state of the key. 
\end{DoxyReturn}
\mbox{\Hypertarget{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a4b222b7d06d2f2e66ffd5b1f7415d401}\label{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a4b222b7d06d2f2e66ffd5b1f7415d401}} 
\index{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}!State@{State}}
\index{State@{State}!launchdarkly::server\_side::data\_store::persistent::ExpirationTracker@{launchdarkly::server\_side::data\_store::persistent::ExpirationTracker}}
\doxysubsubsection{\texorpdfstring{State()}{State()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__store_1_1persistent_1_1ExpirationTracker_a3cbd3ee74ae742ff351b42321035fbbd}{Expiration\+Tracker\+::\+Track\+State}} launchdarkly\+::server\+\_\+side\+::data\+\_\+store\+::persistent\+::\+Expiration\+Tracker\+::\+State (\begin{DoxyParamCaption}\item[{std\+::string const \&}]{key,  }\item[{Expiration\+Tracker\+::\+Time\+Point}]{current\+\_\+time }\end{DoxyParamCaption}) const}

Check the state of an unscoped key.


\begin{DoxyParams}{Parameters}
{\em key} & The key to check. \\
\hline
{\em current\+\_\+time} & The current time. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The state of the key. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/data\+\_\+store/persistent/expiration\+\_\+tracker.\+hpp\item 
src/data\+\_\+store/persistent/expiration\+\_\+tracker.\+cpp\end{DoxyCompactItemize}
