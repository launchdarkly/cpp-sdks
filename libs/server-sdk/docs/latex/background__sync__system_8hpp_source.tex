\doxysection{background\+\_\+sync\+\_\+system.\+hpp}
\hypertarget{background__sync__system_8hpp_source}{}\label{background__sync__system_8hpp_source}\index{src/data\_systems/background\_sync/background\_sync\_system.hpp@{src/data\_systems/background\_sync/background\_sync\_system.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}../../data\_components/change\_notifier/change\_notifier.hpp"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}../../data\_components/memory\_store/memory\_store.hpp"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}../../data\_components/status\_notifications/data\_source\_status\_manager.hpp"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}../../data\_interfaces/source/idata\_synchronizer.hpp"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}../../data\_interfaces/system/idata\_system.hpp"{}}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <launchdarkly/data\_model/descriptors.hpp>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <launchdarkly/logging/logger.hpp>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <launchdarkly/server\_side/config/built/all\_built.hpp>}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <boost/asio/any\_io\_executor.hpp>}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }launchdarkly::server\_side::data\_systems\ \{}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00027\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync}{BackgroundSync}}\ final\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__interfaces_1_1IDataSystem}{data\_interfaces::IDataSystem}}\ \{}
\DoxyCodeLine{00028\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00029\ \ \ \ \ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync}{BackgroundSync}}(}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlaunchdarkly_1_1config_1_1shared_1_1built_1_1ServiceEndpoints}{config::built::ServiceEndpoints}}\ \textcolor{keyword}{const}\&\ endpoints,}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structlaunchdarkly_1_1server__side_1_1config_1_1built_1_1BackgroundSyncConfig}{config::built::BackgroundSyncConfig}}\ \textcolor{keyword}{const}\&\ background\_sync\_config,}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlaunchdarkly_1_1config_1_1shared_1_1built_1_1HttpProperties}{config::built::HttpProperties}}\ http\_properties,}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ boost::asio::any\_io\_executor\ ioc,}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__components_1_1DataSourceStatusManager}{data\_components::DataSourceStatusManager}}\&\ status\_manager,}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ Logger\ \textcolor{keyword}{const}\&\ logger);}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync}{BackgroundSync}}(\mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync}{BackgroundSync}}\ \textcolor{keyword}{const}\&\ item)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00038\ \ \ \ \ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync}{BackgroundSync}}(\mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync}{BackgroundSync}}\&\&\ item)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync}{BackgroundSync}}\&\ operator=(\mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync}{BackgroundSync}}\ \textcolor{keyword}{const}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync}{BackgroundSync}}\&\ operator=(\mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync}{BackgroundSync}}\&\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \ \ std::shared\_ptr<data\_model::FlagDescriptor>\ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync_aef3bc9d674c5a6dd45801fa92a4101c5}{GetFlag}}(}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ std::string\ \textcolor{keyword}{const}\&\ key)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00044\ \ \ \ \ std::shared\_ptr<data\_model::SegmentDescriptor>\ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync_aa547b4139feef38743efbadd775fa6a2}{GetSegment}}(}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ std::string\ \textcolor{keyword}{const}\&\ key)\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00046\ \ \ \ \ std::unordered\_map<std::string,\ std::shared\_ptr<data\_model::FlagDescriptor>>}
\DoxyCodeLine{00047\ \ \ \ \ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync_a5f4a593ec9966e7ac11bb794c112062e}{AllFlags}}()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00048\ \ \ \ \ std::unordered\_map<std::string,}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::shared\_ptr<data\_model::SegmentDescriptor>>}
\DoxyCodeLine{00050\ \ \ \ \ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync_a346df462f0e54397ef34d83aed7d5133}{AllSegments}}()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ std::string\ \textcolor{keyword}{const}\&\ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync_a2cbca16af273c47f71fc54db7d31f00d}{Identity}}()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync_ab4dc6f5080aa5e7f1009a99d17691cfc}{Initialize}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__systems_1_1BackgroundSync_a115c0141aedbfba027ad9dcd86de878a}{Initialized}}()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00059\ \ \ \ \ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__components_1_1MemoryStore}{data\_components::MemoryStore}}\ store\_;}
\DoxyCodeLine{00060\ \ \ \ \ \mbox{\hyperlink{classlaunchdarkly_1_1server__side_1_1data__components_1_1ChangeNotifier}{data\_components::ChangeNotifier}}\ change\_notifier\_;}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{comment}{//\ Needs\ to\ be\ shared\ to\ that\ the\ source\ can\ keep\ itself\ alive\ through}}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{comment}{//\ async\ operations.}}
\DoxyCodeLine{00063\ \ \ \ \ std::shared\_ptr<data\_interfaces::IDataSynchronizer>\ synchronizer\_;}
\DoxyCodeLine{00064\ \};}
\DoxyCodeLine{00065\ \}\ \ \textcolor{comment}{//\ namespace\ launchdarkly::server\_side::data\_systems}}

\end{DoxyCode}
