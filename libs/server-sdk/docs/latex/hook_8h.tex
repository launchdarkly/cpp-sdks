\hypertarget{hook_8h}{}\doxysection{include/launchdarkly/server\+\_\+side/bindings/c/hook.h File Reference}
\label{hook_8h}\index{include/launchdarkly/server\_side/bindings/c/hook.h@{include/launchdarkly/server\_side/bindings/c/hook.h}}


C bindings for Launch\+Darkly SDK hooks.  


{\ttfamily \#include $<$launchdarkly/bindings/c/export.\+h$>$}\newline
{\ttfamily \#include $<$launchdarkly/bindings/c/data/evaluation\+\_\+detail.\+h$>$}\newline
Include dependency graph for hook.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=316pt]{hook_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=328pt]{hook_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structLDServerSDKHook}{LDServer\+SDKHook}}
\begin{DoxyCompactList}\small\item\em Hook structure containing callback function pointers. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{hook_8h_af93dc706a084025c65a3f9a9265d7637}\label{hook_8h_af93dc706a084025c65a3f9a9265d7637}} 
typedef struct p\+\_\+\+LDServer\+SDKEvaluation\+Series\+Context $\ast$ {\bfseries LDServer\+SDKEvaluation\+Series\+Context}
\item 
\mbox{\Hypertarget{hook_8h_a6502d002c9b78204e71e5eda1ec07b13}\label{hook_8h_a6502d002c9b78204e71e5eda1ec07b13}} 
typedef struct p\+\_\+\+LDServer\+SDKEvaluation\+Series\+Data $\ast$ {\bfseries LDServer\+SDKEvaluation\+Series\+Data}
\item 
\mbox{\Hypertarget{hook_8h_aff654afc010c287a463c77d452d2dcb9}\label{hook_8h_aff654afc010c287a463c77d452d2dcb9}} 
typedef struct p\+\_\+\+LDServer\+SDKTrack\+Series\+Context $\ast$ {\bfseries LDServer\+SDKTrack\+Series\+Context}
\item 
typedef LDServer\+SDKEvaluation\+Series\+Data($\ast$ \mbox{\hyperlink{hook_8h_a134fe11f56a8d62199173f85cb2b8e32}{LDServer\+SDKHook\+\_\+\+Before\+Evaluation}}) (LDServer\+SDKEvaluation\+Series\+Context series\+\_\+context, LDServer\+SDKEvaluation\+Series\+Data data, void $\ast$user\+\_\+data)
\begin{DoxyCompactList}\small\item\em Callback invoked before a flag evaluation. \end{DoxyCompactList}\item 
typedef LDServer\+SDKEvaluation\+Series\+Data($\ast$ \mbox{\hyperlink{hook_8h_abaa1e42a79858fd16e90750e4a6f409a}{LDServer\+SDKHook\+\_\+\+After\+Evaluation}}) (LDServer\+SDKEvaluation\+Series\+Context series\+\_\+context, LDServer\+SDKEvaluation\+Series\+Data data, LDEval\+Detail detail, void $\ast$user\+\_\+data)
\begin{DoxyCompactList}\small\item\em Callback invoked after a flag evaluation. \end{DoxyCompactList}\item 
typedef void($\ast$ \mbox{\hyperlink{hook_8h_aa859599d6d2684d7fea5e6b06d12ceab}{LDServer\+SDKHook\+\_\+\+After\+Track}}) (LDServer\+SDKTrack\+Series\+Context series\+\_\+context, void $\ast$user\+\_\+data)
\begin{DoxyCompactList}\small\item\em Callback invoked after a track event. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{hook_8h_a2d30cbc6e7ee6d129231b6f36cc608b9}{LDServer\+SDKHook\+\_\+\+Init}} (struct \mbox{\hyperlink{structLDServerSDKHook}{LDServer\+SDKHook}} $\ast$hook)
\begin{DoxyCompactList}\small\item\em Initialize a hook structure to safe defaults. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
C bindings for Launch\+Darkly SDK hooks. 

Hooks allow you to instrument the SDK\textquotesingle{}s evaluation and tracking behavior for purposes like logging, analytics, or distributed tracing (e.\+g. Open\+Telemetry).

LIFETIME AND OWNERSHIP\+:
\begin{DoxyItemize}
\item The \mbox{\hyperlink{structLDServerSDKHook}{LDServer\+SDKHook}} struct should be allocated by the caller (stack or heap)
\item The function pointers and User\+Data pointer are copied when the hook is registered with the config builder
\item User\+Data lifetime must extend for the entire lifetime of the SDK client
\item All context parameters passed to callbacks are temporary -\/ valid only during the callback execution
\item Evaluation\+Series\+Data returned from callbacks transfers ownership to the SDK 
\end{DoxyItemize}

\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{hook_8h_abaa1e42a79858fd16e90750e4a6f409a}\label{hook_8h_abaa1e42a79858fd16e90750e4a6f409a}} 
\index{hook.h@{hook.h}!LDServerSDKHook\_AfterEvaluation@{LDServerSDKHook\_AfterEvaluation}}
\index{LDServerSDKHook\_AfterEvaluation@{LDServerSDKHook\_AfterEvaluation}!hook.h@{hook.h}}
\doxysubsubsection{\texorpdfstring{LDServerSDKHook\_AfterEvaluation}{LDServerSDKHook\_AfterEvaluation}}
{\footnotesize\ttfamily typedef LDServer\+SDKEvaluation\+Series\+Data($\ast$ LDServer\+SDKHook\+\_\+\+After\+Evaluation) (LDServer\+SDKEvaluation\+Series\+Context series\+\_\+context, LDServer\+SDKEvaluation\+Series\+Data data, LDEval\+Detail detail, void $\ast$user\+\_\+data)}



Callback invoked after a flag evaluation. 

Use this to instrument evaluation results, such as ending a span for distributed tracing or logging the result.

PARAMETERS\+: 
\begin{DoxyParams}{Parameters}
{\em series\+\_\+context} & Read-\/only context about the evaluation. Valid only during this callback. \\
\hline
{\em data} & Mutable data passed from before\+Evaluation. Ownership transfers to SDK. May contain data from previous stages. \\
\hline
{\em detail} & The evaluation result. Valid only during this callback. \\
\hline
{\em user\+\_\+data} & Application-\/specific context pointer.\\
\hline
\end{DoxyParams}
RETURNS\+: Evaluation\+Series\+Data for potential future stages. Return the input data unmodified if you don\textquotesingle{}t need to modify it. Ownership transfers to SDK. If NULL is returned, an empty data object will be created.

LIFETIME\+:
\begin{DoxyItemize}
\item series\+\_\+context\+: Valid only during callback execution
\item data\+: Ownership transfers to SDK
\item detail\+: Valid only during callback execution
\item user\+\_\+data\+: Managed by caller 
\end{DoxyItemize}\mbox{\Hypertarget{hook_8h_aa859599d6d2684d7fea5e6b06d12ceab}\label{hook_8h_aa859599d6d2684d7fea5e6b06d12ceab}} 
\index{hook.h@{hook.h}!LDServerSDKHook\_AfterTrack@{LDServerSDKHook\_AfterTrack}}
\index{LDServerSDKHook\_AfterTrack@{LDServerSDKHook\_AfterTrack}!hook.h@{hook.h}}
\doxysubsubsection{\texorpdfstring{LDServerSDKHook\_AfterTrack}{LDServerSDKHook\_AfterTrack}}
{\footnotesize\ttfamily typedef void($\ast$ LDServer\+SDKHook\+\_\+\+After\+Track) (LDServer\+SDKTrack\+Series\+Context series\+\_\+context, void $\ast$user\+\_\+data)}



Callback invoked after a track event. 

Use this to instrument custom events, such as logging or adding tracing information.

PARAMETERS\+: 
\begin{DoxyParams}{Parameters}
{\em series\+\_\+context} & Read-\/only context about the track call. Valid only during this callback. \\
\hline
{\em user\+\_\+data} & Application-\/specific context pointer.\\
\hline
\end{DoxyParams}
RETURNS\+: void (no data is passed between track stages)

LIFETIME\+:
\begin{DoxyItemize}
\item series\+\_\+context\+: Valid only during callback execution
\item user\+\_\+data\+: Managed by caller 
\end{DoxyItemize}\mbox{\Hypertarget{hook_8h_a134fe11f56a8d62199173f85cb2b8e32}\label{hook_8h_a134fe11f56a8d62199173f85cb2b8e32}} 
\index{hook.h@{hook.h}!LDServerSDKHook\_BeforeEvaluation@{LDServerSDKHook\_BeforeEvaluation}}
\index{LDServerSDKHook\_BeforeEvaluation@{LDServerSDKHook\_BeforeEvaluation}!hook.h@{hook.h}}
\doxysubsubsection{\texorpdfstring{LDServerSDKHook\_BeforeEvaluation}{LDServerSDKHook\_BeforeEvaluation}}
{\footnotesize\ttfamily typedef LDServer\+SDKEvaluation\+Series\+Data($\ast$ LDServer\+SDKHook\+\_\+\+Before\+Evaluation) (LDServer\+SDKEvaluation\+Series\+Context series\+\_\+context, LDServer\+SDKEvaluation\+Series\+Data data, void $\ast$user\+\_\+data)}



Callback invoked before a flag evaluation. 

Use this to instrument evaluations, such as starting a span for distributed tracing.

PARAMETERS\+: 
\begin{DoxyParams}{Parameters}
{\em series\+\_\+context} & Read-\/only context about the evaluation. Valid only during this callback. \\
\hline
{\em data} & Mutable data that can be passed to after\+Evaluation. Ownership transfers to the SDK. May be NULL initially. \\
\hline
{\em user\+\_\+data} & Application-\/specific context pointer set when creating the hook.\\
\hline
\end{DoxyParams}
RETURNS\+: Evaluation\+Series\+Data to pass to after\+Evaluation. Return the input data unmodified if you don\textquotesingle{}t need to add anything. Ownership transfers to SDK. If NULL is returned, an empty data object will be created.

LIFETIME\+:
\begin{DoxyItemize}
\item series\+\_\+context\+: Valid only during callback execution -\/ do not store
\item data\+: Ownership transfers to SDK
\item user\+\_\+data\+: Managed by caller -\/ must remain valid for SDK lifetime 
\end{DoxyItemize}

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{hook_8h_a2d30cbc6e7ee6d129231b6f36cc608b9}\label{hook_8h_a2d30cbc6e7ee6d129231b6f36cc608b9}} 
\index{hook.h@{hook.h}!LDServerSDKHook\_Init@{LDServerSDKHook\_Init}}
\index{LDServerSDKHook\_Init@{LDServerSDKHook\_Init}!hook.h@{hook.h}}
\doxysubsubsection{\texorpdfstring{LDServerSDKHook\_Init()}{LDServerSDKHook\_Init()}}
{\footnotesize\ttfamily LDServer\+SDKHook\+\_\+\+Init (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structLDServerSDKHook}{LDServer\+SDKHook}} $\ast$}]{hook }\end{DoxyParamCaption})}



Initialize a hook structure to safe defaults. 

Sets all function pointers and User\+Data to NULL, and Name to NULL. Must be called before setting any fields.


\begin{DoxyParams}{Parameters}
{\em hook} & Pointer to hook structure to initialize. Must not be NULL. \\
\hline
\end{DoxyParams}
